function pop(a){this.init(a)}var h='<h3 class="prize-tips">恭喜中奖！！请输入您的联系方式以获取奖励</h3>  <div class="box-ipt"><input type="text" id="boxIptName" name="" value="" placeholder="请输入您的姓名"></div>  <div class="box-ipt"><input type="number" id="boxIptValue" name="" value="" placeholder="请输入手机号码"></div>  <div class="box-ipt"><input type="text" id="boxIptAddress" name="" value="" placeholder="请输入您的地址"></div><span id="prizeBtn">提交</span>';pop.prototype={init:function(a){a.html=a.html||h,this.popup(a)},browser:{versions:function(){{var a=navigator.userAgent;navigator.appVersion}return{mobile:!!a.match(/AppleWebKit.*Mobile.*/)||!!a.match(/AppleWebKit/),ios:!!a.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:a.indexOf("Android")>-1||a.indexOf("Linux")>-1}}()},popup:function(a){var b=this;$("body").append(this.tmpl),this.fullScreen(),$("#popbox").append(a.html);var c=this.browser.versions.android?$(window).scrollTop():0,d=($(document).height(),$("#pop").height(),$(window).height());$("#popup").css({"max-height":.8*d,top:120+c}),$("#popup").removeClass("hide"),$("#popClose,#popbg").off("click").on("click",function(){b.unFullScreen(),$("#popup").addClass("hide"),setTimeout(function(){$("#pop").fadeOut(300,function(){$("#pop").remove()})},300)}),a.callback&&a.callback(),$("#prizeBtn").on("click",function(){var b=$.trim(document.querySelector("#boxIptValue").value),c=$.trim(document.querySelector("#boxIptName").value),d=$.trim(document.querySelector("#boxIptAddress").value),e=/^0{0,1}(13[0-9]|14[0-9]|15[0-9]||17[0-9]|18[0-9])[0-9]{8}$/,f={},g=[];if(""===c)return alert("亲，请输入您的姓名"),!1;if(""===b)return alert("亲，请输入您的手机号码"),!1;if(!e.test(b))return alert("亲，您输入的手机号格式不正确"),!1;if(""===d)return alert("亲，请输入您的地址"),!1;g=[b,d,c];for(var h=0;h<a.parameter.length;h++)f[a.parameter[h]]=g[h];f.pid=window.ajaxPid,f.awardName=window.ajaxAwardName,console.log(f),$.ajax({type:"POST",url:a.url,data:f,dataType:"json",async:!1,success:function(){alert("提交成功!"),$("#popClose").trigger("click")},error:function(a){console.log(a),alert("网络错误，请稍后再试!"),$("#popClose").trigger("click")}})})},fullScreen:function(){$("html,body").css({width:$(window).width(),height:$(window).height(),overflow:"hidden",position:"relative"})},unFullScreen:function(){$("html,body").css({width:"100%",height:"auto",overflow:"auto",position:"static"}),$(window).height()>$("body").height()&&$("body").css("min-height",$(window).height())},tmpl:'<div id="pop">        <section id="popup" class="hide">        <div id="popbox">          <span id="popClose"></span>        </div>        </section>        <section id="popbg"></section>    </div>'};